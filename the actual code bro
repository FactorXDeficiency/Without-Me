const { Plugin } = require('powercord/entities');
window.lil = new Audio('https://github.com/FactorXDeficiency/test-shit/blob/33c062cffadb4f20882c2e5a4e4e7e8669105d15/Eminem%20Without%20Me%20Official%20Music%20Video.mp3');
const Settings = require('./Settings');

module.exports = class Lofi extends Plugin {
	updateVolume() {
		window.lil.volume = this.settings.get('volume', 1);
	}

	startPlugin() {
		window.lil.pause();
		window.lil.loop = true;
		window.lil.volume = this.settings.get('volume', 1);
		window.lil.play();
		powercord.api.settings.registerSettings(this.entityID, {
			category: this.entityID,
			label: 'Industry Baby',
			render: Settings,
		});
	}

	pluginWillUnload() {
		window.lil.pause();
		powercord.api.settings.unregisterSettings(this.entityID);
	}
};
